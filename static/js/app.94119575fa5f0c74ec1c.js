webpackJsonp([1],Array(19).concat([function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){var i=n(1)(n(39),n(75),null,null);e.exports=i.exports},function(e,t,n){var i=n(1)(n(35),n(76),null,null);e.exports=i.exports},function(e,t,n){var i=n(1)(n(36),n(73),null,null);e.exports=i.exports},function(e,t,n){var i=n(1)(n(37),n(72),null,null);e.exports=i.exports},function(e,t,n){var i=n(1)(n(38),n(74),null,null);e.exports=i.exports},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),o=n(24),a=n.n(o),r=n(26),s=n.n(r),c=n(28),u=n.n(c),l=n(25),d=n.n(l),p=n(27),f=n.n(p),m=n(30),y=n.n(m),v=n(20),h=(n.n(v),n(21)),b=(n.n(h),n(22)),x=(n.n(b),n(19)),g=(n.n(x),n(23));n.n(g);i.a.use(y.a);var j=new i.a({el:"#app",data:function(){var e=[{id:"10y",name:"Período de Retorno: 10 anos",subtitle:"Baixa frequência, Baixa intensidade",avatar:"10anos.png",filter:["==","scenario","10y"]},{id:"100y",name:"Período de Retorno: 100 anos",subtitle:"Média frequência, Média intensidade",avatar:"100anos.png",filter:["==","scenario","100y"]},{id:"500y",name:"Período de Retorno: 500 anos",subtitle:"ALta frequência, Alta intensidade",avatar:"500anos.png",filter:["==","scenario","500y"]}];return{selectedScenario:_.first(e),layers:[{id:"extremes-scenarios",active:!1,type:"circle",metadata:{hidden:!0,scenarios:e},source:{url:"mapbox://camvdvries.2oeagw3w",type:"vector"},"source-layer":"extremes-8zrjds",minzoom:4,filter:["==","scenario","10y"],layout:{visibility:"visible"},paint:{"circle-color":{base:1,type:"exponential",property:"extreme",stops:[[1,"hsl(120, 70%, 57%)"],[1.5,"hsl(105, 70%, 57%)"],[2,"hsl(90, 70%, 57%)"],[2.5,"hsl(75, 70%, 57%)"],[3,"hsl(60, 70%, 57%)"],[3.5,"hsl(45, 70%, 57%)"],[4,"hsl(30, 70%, 57%)"],[4.5,"hsl(15, 70%, 57%)"],[5,"hsl(0, 70%, 57%)"]]}}},{id:"3d-buildings",active:!1,metadata:{name:"Cidades, infraestrutura",subtitle:"Edifícios gerados a partir de OSM",avatar:"city-icon.png"},source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:8,paint:{"fill-extrusion-color":"#88a","fill-extrusion-height":{type:"identity",property:"height"},"fill-extrusion-base":{type:"identity",property:"min_height"},"fill-extrusion-opacity":.6}},{id:"layer-0",active:!1,metadata:{name:"Malha numérica",subtitle:"Usada nas Simulações",avatar:"icon_mesh.jpg"},type:"line",source:{url:"mapbox://siggyf.da22dsx8",type:"vector"},"source-layer":"Layer_0",minzoom:5,layout:{},paint:{"line-color":"hsla(190, 54%, 58%, 0.49)"}},{id:"tracks-1w5m26",active:!1,metadata:{name:"Ciclones tropicais",subtitle:"Trajectórias simuladas",avatar:"cyclone.png"},type:"line",source:{url:"mapbox://siggyf.148qjw3h",type:"vector"},"source-layer":"tracks-1w5m26",minzoom:2,layout:{visibility:"visible","line-join":"round","line-round-limit":1},paint:{"line-color":{base:1,type:"interval",property:"wind",stops:[[20,"hsl(123, 70%, 57%)"],[40,"hsl(82, 70%, 57%)"],[60,"hsl(41, 70%, 57%)"],[80,"hsl(0, 70%, 57%)"]]},"line-opacity":.5,"line-blur":0,"line-width":2}}],sources:[]}},components:{"v-mapbox":a.a,"v-mapbox-layer":s.a,"v-mapbox-source":u.a,"v-mapbox-geocoder":d.a,"v-mapbox-navigation-control":f.a},mounted:function(){var e=this;this.$nextTick(function(){e.$refs.map.map.on("load",function(){var t=["static/images/logo-deltares-groot.png","static/images/GFDRR_logo.png","static/images/EU-ACP-logo.jpg"],n=document.createElement("table");_.each(t,function(e){var t=document.createElement("td"),i=document.createElement("img");i.src=e,i.width="100",t.appendChild(i),n.appendChild(t)}),document.getElementsByClassName("mapboxgl-ctrl-bottom-left")[0].appendChild(n),e.syncLayerVisibility(),e.selectScenario(e.selectedScenario)})})},watch:{selectedScenario:function(e,t){console.log("setting scenario",e),this.selectScenario(e)}},computed:{scenarioLayer:{get:function(){return _.first(_.filter(this.layers,function(e){return _.has(e,"metadata.scenarios")}))}}},methods:{selectScenario:function(e){var t=e.filter;this.$refs.map.map.setFilter("extremes-scenarios",t)},syncLayerVisibility:function(){var e=this;_.each(this.layers,function(t){t.active?e.$refs.map.map.setLayoutProperty(t.id,"visibility","visible"):e.$refs.map.map.setLayoutProperty(t.id,"visibility","none")})}}});j.$watch("layers",function(e){j.syncLayerVisibility()},{deep:!0})},function(e,t,n){"use strict";function i(e,t){return _.omitBy(e,function(e){return _.isNil(e)})}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n.n(i),a=n(32),r=n.n(a),s=n(41);n.n(s);t.default={name:"v-mapbox-geocoder",data:function(){return{}},props:{options:{default:function(){return{}},type:Object}},mounted:function(){},methods:{deferredMountedTo:function(e){console.debug("token",o.a.accessToken);var t=new r.a({accessToken:o.a.accessToken});e.addControl(t)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"v-mapbox-layer",data:function(){return{}},props:{options:{default:function(){return{}},type:Object}},mounted:function(){},methods:{deferredMountedTo:function(e){e.addLayer(this.options)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n.n(i);t.default={name:"v-mapbox-navigation-control",data:function(){return{}},props:{options:{default:function(){return{}},type:Object}},mounted:function(){},methods:{deferredMountedTo:function(e){var t=new o.a.NavigationControl;e.addControl(t)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"v-mapbox-source",data:function(){return{}},props:{options:{default:function(){return{}},type:Object}},mounted:function(){},methods:{deferredMountedTo:function(e){e.addSource(this.options.id,_.omit(this.options,["id"]))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(45),o=n.n(i),a=n(4),r=n.n(a),s=n(34),c=n(42),u=(n.n(c),{accessToken:{type:String,required:!0},container:{type:[HTMLElement,String]},minZoom:{type:Number},maxZoom:{type:Number},mapStyle:{type:[Object,String]},center:{type:[Object,Array]},zoom:{type:Number},bearing:{type:Number},pitch:{type:Number}});t.default={name:"v-mapbox",data:function(){return{map:null,layers:[]}},props:u,mounted:function(){var e=this,t={};r.a.accessToken=this.accessToken,this.mapStyle&&(t.style=this.mapStyle);var i=n.i(s.a)(this.$props);o.a.assign(t,i),t.container=this.$el,this.map=new r.a.Map(t),this.map.on("load",function(){o.a.each(e.$children,function(t){t.deferredMountedTo(e.map),"v-mapbox-layer"===t.$options.name&&e.layers.push(t.options)})})},methods:{}}},,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._t("layers"),e._v(" "),e._t("sources"),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},staticRenderFns:[]}}]),[33]);
//# sourceMappingURL=app.94119575fa5f0c74ec1c.js.map